<!--{template(ADMIN_PATH.'view/htm/new-header.htm')}-->
<!--{hook admin_thread_list_start.htm}-->
<div class="row">
	<div class="col-12">
		<div class="btn-group mb-3" role="group">
		</div>
	</div>
</div>
<form action="{{ $_SERVER['REQUEST_URI'] }}" method="post">
	<details class="card" {{ $maxlength>0?'close':'open' }}>
		<summary class="card-header"><!--{lang search_condition}--></summary>
		<div class="card-body row">
			<div class="col-md-6">
				<div class="form-floating mb-3">
					<select class="form-control" name="fid" id="fid">
						<option value="0"><!--{lang none}--></option>
						<!--{each $forumlist $forum}-->
						<option value="{{ $forum['fid'] }}"><!--{{  $forum['name'] }}--></option>
						<!--{/each}-->
					</select>
					<label for="fid"><!--{lang forum}-->：</label>
				</div>
			</div>
			<div class="col-md-6">
				<div class="form-floating mb-3"><!--{{ \route_admin::input_text('keyword',MyApp::post('keyword'),'keyword') }}--></div>
			</div>
			<div class="col-md-6">
				<div class="form-floating mb-3"><!--{{ \route_admin::input_date_text('create_date_start',MyApp::post('create_date_start',date('Y-m-d',mktime(-24,0,0,))),'start_date',' max="'.date('Y-m-d').'"') }}--></div>
			</div>
			<div class="col-md-6">
				<div class="form-floating mb-3"><!--{{ \route_admin::input_date_text('create_date_end',MyApp::post('create_date_end',date('Y-m-d',mktime(24,0,0,))),'end_date',' max="'.date('Y-m-d',mktime(24,0,0,)).'"') }}--></div>
			</div>
			<div class="col-md-6">
				<div class="form-floating mb-3"><!--{{ \route_admin::input_text('userip',MyApp::post('userip'),'thread_userip') }}--></div>
			</div>
			<div class="col-md-6">
				<div class="form-floating mb-3"><!--{{ \route_admin::input_text('uid',MyApp::post('uid'),'uid') }}--></div>
			</div>
			<div class="col-md-6">
				<button type="submit" id="search" class="btn btn-primary" data-loading-text="<!--{lang searching}-->... "><!--{lang search}--></button>
			</div>
		</div>
		<!--{hook admin_thread_list_search_before.htm}-->
	</details>
	<details class="card" {{ $maxlength>0?'open':'close' }}>
		<summary class="card-header"><!--{{ \lang('thread_search_result', array('n' => '<b id="threads">'.$maxlength.'</b>')) }}--></summary>
		<div class="card-body" id="search_result">
			<!--{if !empty($threadlist)}-->
			<nav aria-label="Page navigation example">
				<ul class="pagination gap-2">
					<!--{each $pagination $pagenum}-->
					<li class="page-item">
						<!--{if $pagenum == $page}-->
						<a class="btn-outline-pink page-link" href="#">
							<!--{if $pagenum==1}-->
							<!--{lang page_index}-->
							<!--{elseif $pagenum==$maxpage}-->
							<!--{lang page_last}-->
							<!--{else}-->
							<!--{{ $pagenum }}-->
							<!--{/if}-->
						</a>
						<!--{else}-->
						<input type="submit" class="page-link" name="page" value="{{ $pagenum }}">
						<!--{/if}-->
					</li>
					<!--{/each}-->
					<button type="button" class="btn btn-outline-teal" onmethods="checkall" data-match="[name^=tids]"><!--{lang checkall}--></button>
					<button type="button" class="btn btn-outline-teal" onmethods="adimin_thread_delete">删除勾选主题</button>
				</ul>
			</nav>
			<div id="delete-result"></div>
			<!--{each $threadlist $_thread}-->
			<div class="row mb-2" id="tid-{{ $_thread['tid'] }}">
				<div class="col-md-1">
					<div class="form-check form-switch mb-3"><input class="form-check-input" type="checkbox" name="tids[]" value="{{ $_thread['tid'] }}">
					</div>
				</div>
				<div class="col-md-8">
					<a href="{{ MyApp::site('?thread-'.$_thread['tid']) }}"><!--{{ $_thread['subject'] }}--></a>
				</div>
				<div class="col-md-2">
					<a class="btn btn-pink" href="{{ MyApp::purl('delete/'.$_thread['tid']) }}"><!--{lang thread_delete}--></a>
				</div>
			</div>
			<!--{/each}-->
			<!--{/if}-->
		</div>
	</details>
</form>
<!--{hook admin_thread_list_end.htm}-->
<!--{template(ADMIN_PATH.'view/htm/new-footer.htm')}-->
<!--{hook admin_thread_list_js.htm}-->